<h4><strong>Background</strong></h4><p>Occasionally we want to set a breakpoint in our application, and step through the code, line by line, to study our program's flow.</p><p>By default when we set and hit a breakpoint in our IDE, all the application's threads are suspended.</p><p>However as we recall from the previous lecture, <em>Zookeeper</em> client library maintains a background IO&nbsp;thread that has to send&nbsp; and respond to pings to and from Zookeeper. If within the configured <em>SESSIONS_TIMEOUT</em>, Zookeeper does not get a ping, it will assume our application has terminated, or lost network connection.</p><p>So when we hit a&nbsp; breakpoint in our code, we need to make sure Zookeeper Client library IO&nbsp;thread is <strong>NOT</strong> <strong>suspended.</strong>&nbsp; &nbsp;</p><h4><strong>Steps for Setting Breakpoints in IntelliJ while Debugging a Zookeeper Client Application</strong></h4><p>1. Set the breakpoint at the line of interest as usual:</p><figure><img height="197" src="https://udemy-images.s3.amazonaws.com:443/redactor/raw/2019-11-30_17-51-36-59bc3f056f79f49c25b4fbd487ec780c.png" width="433"></figure><p>2. Prior to launching the application in Debug mode, <strong>right click</strong> on newly added breakpoint (the red circle)</p><figure><img height="236" src="https://udemy-images.s3.amazonaws.com:443/redactor/raw/2019-11-30_17-52-48-23b4bfe9f7ff657d3178150e765c6f83.png" width="493"></figure><p>3. In the breakpoint window, you will see that <strong>All</strong> option is checked - this means that when a breakpoint is hit, <strong>all</strong> the threads will be suspended. Change All to <strong>Thread</strong> instead.</p><figure><img height="228" src="https://udemy-images.s3.amazonaws.com:443/redactor/raw/2019-11-30_17-54-58-2b8bf8dcd6386bfa3deba401bfc40dcd.png" width="486"></figure><p>4. Now click <strong>Done, </strong>and proceed in launching the application in Debug mode. </p><p>Now once the desired breakpoint is hit, only the thread that reached that breakpoint line of code will be suspended, while the rest of the threads, including the IO&nbsp;background thread, will continue running as usual, and we will not lose the connection to Zookeeper.</p>